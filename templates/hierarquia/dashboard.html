{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard - Sistema de Hierarquia{% endblock title %}
{# {% block extra_css %}
    <link rel="stylesheet" href="{% static 'css/dashboard.css' %}">
{% endblock extra_css %} #}
{% block content %}
<div class="container">
    <div class="header">
        <h2>Bem-vindo, {{ funcionario.nome }}!</h2> 
        <p>Gerencie funcion√°rios, requisi√ß√µes e configure a hierarquia organizacional</p>
    </div>

    <div class="cards-grid">
        <div class="card">
            <div class="card-icon">üë•</div>
            <div class="card-title">Total de Funcion√°rios</div>
            <div class="card-value">{{ total_funcionarios }}</div>
        </div>
        <div class="card">
            <div class="card-icon">üíº</div>
            <div class="card-title">Cargos Cadastrados</div>
            <div class="card-value">{{ total_cargos }}</div>
        </div>
        <div class="card">
            <div class="card-icon">üè¢</div>
            <div class="card-title">Setores</div>
            <div class="card-value">{{ total_setores }}</div>
        </div>
        <div class="card">
            <div class="card-icon">‚è≥</div>
            <div class="card-title">Requisi√ß√µes Pendentes</div>
            <div class="card-value">{{ requisicoes_pendentes }}</div>
        </div>
    </div>

    <div class="info-box">
        <h3>Informa√ß√µes do Seu Perfil</h3>
        <p><strong>Nome:</strong> {{ funcionario.nome }}</p> 
        <p><strong>Cargo:</strong> {{ funcionario.cargo.nome }} <span class="badge">N√≠vel {{ funcionario.cargo.nivel }}</span></p>
        <p><strong>Setores:</strong>
            {% for setor in funcionario.setor.all %}
                {{ setor.nome }}{% if not forloop.last %}, {% endif %}
            {% empty %}
                Nenhum setor associado.
            {% endfor %}
        </p>
        <p><strong>Data de Admiss√£o:</strong> {{ funcionario.data_admissao|date:"d/m/Y" }}</p>
        {% if funcionario.centro_servico %}
        <p><strong>Centro de Servi√ßo:</strong> {{ funcionario.centro_servico.nome }}</p>
        {% endif %}
    </div>
</div>
{% endblock content %}