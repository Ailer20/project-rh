{% extends 'base.html' %}
{% load static %}

{% block title %}Selecionar Setor - Funcionários{% endblock title %}

{% block extra_css %}
    {# Criaresmos um CSS simples para os cards de setor #}
    <link rel="stylesheet" href="{% static 'css/listar_setores.css' %}">
{% endblock extra_css %}

{% block content %}
<div class="container">
    <div class="header">
        <h2>Funcionários por Setor</h2>
        <p>Selecione um setor para visualizar os funcionários.</p>
    </div>

    {% if setores %}
        <div class="sector-cards-grid">
            {% for setor in setores %}
                <div class="sector-card">
                    
                    <div class="sector-card-header">
                        <div class="sector-card-icon">
                            <i class="fas fa-sitemap"></i> </div>
                        <h3 class="sector-card-name">{{ setor.nome }}</h3>
                    </div>
                    
                    <div class="sector-card-body">
                        <div class="stat-item">
                            <span class="stat-value">{{ setor.num_funcionarios|default:0 }}</span>
                            <span class="stat-label">Funcionários Ativos</span>
                        </div>
                        </div>
                    
                    <div class="sector-card-footer">
                        <a href="{% url 'listar_funcionarios_por_setor' setor.id %}" class="btn-primary">
                            Ver Funcionários <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state-card">
             <p>Você não está associado a nenhum setor ou não há setores cadastrados.</p>
        </div>
    {% endif %}

</div>
{% endblock content %}